{% extends "layouts/base.njk" %}
{% set title = "Главная" %}
{% block title %}
	{% if title %}
		<title>{{ title }}</title>
	{% else %}
		<title>{{ site.title }}</title>
	{% endif %}
{% endblock %}
{% block content %}
	<main class="main-content">
		{% include "partials/home-slider.njk" %}
		{% include "partials/we-are-trusted.njk" %}
		{% include "partials/best-works.njk" %}
		{% include "partials/advantages.njk" %}
		{# {% include "partials/test.njk" %} #}
	</main>
{% endblock content %}
{% block js %}
	<!-- Swiper JS -->
	{# <script src="js/main.bundle.js" defer></script> #}
	{# <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script> #}

	{# <script type="module" defer>
		import Swiper from 'https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.mjs'

		const swiper = new Swiper(".home-slider", {
			speed: 500,
			effect: 'fade',
			centeredSlides: true,
			pagination: {
				el: '.home-slider__pagination',
				type: 'custom',
				renderCustom: function (swiper, current, total) {
					let indT = total >= 10
						? total
						: `0${total}`;
					let indC = current >= 10
						? current
						: `0${current}`;
					return `<b>${indC}</b><span></span> ${indT}`;
				}
			},
			scrollbar: {
				el: '.home-siler__scrollbar',
				draggable: true
			},
			navigation: {
				prevEl: '.home-slider__prev',
				nextEl: '.home-slider__next'
			},
			keyboard: {
				enabled: true,
				onlyInViewport: false
			},
			runCallbacksOnInit: true
		});

		const swiper2 = new Swiper('.advantages-slider', {
			effect: 'flip',
			grabCursor: true,
			pagination: {
				el: '.swiper-pagination'
			},
			navigation: {
				nextEl: '.swiper-button-next',
				prevEl: '.swiper-button-prev'
			}
		});
	</script> #}

	<!-- Initialize Swiper -->
	{# <script>
		var swiper = new Swiper(".mySwiper", {
			effect: "flip",
			grabCursor: true,
			autoplay: {
				delay: 2500,
				disableOnInteraction: true
			},
			pagination: {
				el: ".swiper-pagination"
			},
			navigation: {
				nextEl: ".swiper-button-next",
				prevEl: ".swiper-button-prev"
			}
		});
	</script> #}
{% endblock %}
